/*
  Handcrafted with love by Ilya Pukhalski (@pukhalski) and Mikhail Larchanka (@ashorror)
*/
!function(){var a={},b=[{test:function(){return!0},events:{start:"mousedown",move:"mousemove",end:"mouseup",cancel:"mouseup"}},{test:function(){return"propertyIsEnumerable"in window||"hasOwnProperty"in window.document?window.propertyIsEnumerable("ontouchstart")||window.document.hasOwnProperty("ontouchstart"):!1},events:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}},{test:function(){return window.navigator.msPointerEnabled},events:{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp",cancel:"MSPointerCancel"}},{test:function(){return window.navigator.pointerEnabled},events:{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}}],c={start:[0,0],move:[0,0],offset:[0,0],maxOffset:10},d=function(a,b,c){c=c||window,c.addEventListener?c.addEventListener(a,b,!1):element.attachEvent?c.attachEvent("on"+a,b):c["on"+a]=b};a.device={eventsMatrix:null},a.device.findEventsMatrix=function(){for(var a=b.length;a--;)if(b[a].test())return b[a];return b[0]};var e="tap";a.trigger=function(a){var b=a,c=a.target;document.createEvent?(b=document.createEvent("HTMLEvents"),b.initEvent(e,!0,!0)):(b=document.createEventObject(),b.eventType=e),b.eventName=e,document.createEvent?c.dispatchEvent(b):c.fireEvent("on"+b.eventType,b)},a.handlers=function(){return{start:function(a){var b=a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches.length?a.originalEvent.touches[0]:a;c.start=c.move=[b.pageX,b.pageY],c.offset=[0,0]},move:function(a){var b=a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches.length?a.originalEvent.touches[0]:a;c.move=[b.pageX,b.pageY],c.offset=[Math.abs(c.move[0]-c.start[0]),Math.abs(c.move[1]-c.start[1])]},end:function(){c.offset[0]<=c.maxOffset&&c.offset[1]<=c.maxOffset&&a.trigger.apply(a,arguments)}}}(),a.init=function(){a.device.eventsMatrix=a.device.findEventsMatrix(),d(a.device.eventsMatrix.events.start,a.handlers.start,document.body),d(a.device.eventsMatrix.events.move,a.handlers.move,document.body),d(a.device.eventsMatrix.events.end,a.handlers.end,document.body)},d("load",a.init)}();